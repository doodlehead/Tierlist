(this.webpackJsonptierlist=this.webpackJsonptierlist||[]).push([[0],{111:function(e,a,t){e.exports=t(152)},116:function(e,a,t){},117:function(e,a,t){},118:function(e,a,t){},140:function(e,a,t){},152:function(e,a,t){"use strict";t.r(a);var n,r=t(0),i=t.n(r),l=t(8),c=t.n(l),o=(t(116),t(15)),s=(t(117),t(33)),u=t(43),m=(t(118),t(186)),d=t(210),g=t(105),p=t(195),h=t(90),f=t.n(h),v=t(211),b=t(194),E=t(205),x=t(190),y=t(193);!function(e){e.TVshow="TVshow",e.Anime="Anime",e.Manga="Manga"}(n||(n={}));var w,O,j=Object(m.a)((function(e){return Object(d.a)({root:{display:"flex",alignItems:"center",margin:"0 8px",backgroundColor:"var(--darker-grey)"},input:{marginLeft:e.spacing(1),flex:1,fontSize:16},iconButton:{padding:"0 10px"},divider:{height:28,margin:4},select:{padding:"0 8px",fontSize:14},"@media only screen and (min-width: 768px)":{root:{display:"flex",alignItems:"center",margin:"0 40px",backgroundColor:"var(--darker-grey)"},input:{marginLeft:e.spacing(1),flex:1,fontSize:20},iconButton:{padding:10},divider:{height:28,margin:4},select:{padding:"0 12px"}}})})),S=function(e){var a=e.onSearch,t=e.onChangeSearchType,l=e.className,c=e.defaultValue,u=j(),m=Object(r.useState)(c),d=Object(o.a)(m,2),h=d[0],w=d[1];return i.a.createElement("div",{className:l},i.a.createElement(g.a,{component:"form",className:u.root,onSubmit:a},i.a.createElement(x.a,{variant:"outlined"},i.a.createElement(E.a,{value:h,onChange:function(e){w(e.target.value),t(Object(s.a)(Object(s.a)({},e),{},{target:{value:e.target.value}}))},className:u.select},i.a.createElement(y.a,{value:n.TVshow},"TV show"),i.a.createElement(y.a,{value:n.Anime},"Anime"),i.a.createElement(y.a,{value:n.Manga},"Manga"))),i.a.createElement(b.a,{className:u.divider,orientation:"vertical"}),i.a.createElement(v.a,{className:u.input,placeholder:"Search",name:"search",autoComplete:"off"}),i.a.createElement(p.a,{type:"submit",className:u.iconButton,"aria-label":"search"},i.a.createElement(f.a,null))))},k=Object(m.a)((function(e){return Object(d.a)({root:{display:"grid",gridGap:"5px",gridTemplateColumns:"repeat(auto-fill, minmax(".concat(100,"px, 1fr))")},panel:{borderRadius:3,backgroundColor:"var(--darker-grey)","&:hover":{outline:"2px solid var(--lighter-grey)",cursor:"pointer"}},panel__title:{fontSize:14,fontWeight:500,display:"block",padding:"8px"},panel__image:{maxWidth:100,height:"auto"},loadingCircle:{margin:"100px auto"},"@media only screen and (min-width: 768px)":{root:{display:"grid",gridGap:"20px",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))"},panel:{borderRadius:3,backgroundColor:"var(--darker-grey)","&:hover":{outline:"2px solid var(--lighter-grey)",cursor:"pointer"}},panel__title:{fontSize:18,fontWeight:500,display:"block",padding:"8px"},panel__image:{maxWidth:200,height:"auto"},loadingCircle:{margin:"100px auto"}}})})),C=function(e){var a=e.data,t=e.loading,n=e.onSelect,r=e.className,l=k();return t?i.a.createElement("div",null):i.a.createElement("div",{className:r},i.a.createElement("div",{className:l.root},!t&&a.map((function(e){return a=e,i.a.createElement("div",{className:l.panel,key:a.id,onClick:function(){return n(a.id)}},i.a.createElement("div",{className:l.panel__title},a.label),i.a.createElement("img",{alt:a.label,src:a.imageUrl,className:l.panel__image}));var a}))))},N=t(34),T=t.n(N);!function(e){e.Main="Main",e.Supporting="Supporting"}(w||(w={})),function(e){e.g="G",e.pg="PG",e.pg13="PG-13",e.r17="R",e.r="R+",e.rx="Rx"}(O||(O={}));var _,M="https://api.jikan.moe/v3",I="http://localhost:5001/".concat("test-firebase-3704b","/us-central1/proxy"),A=t(197),B=t(60),W=Object(m.a)((function(e){return Object(d.a)({characterTile:{position:"relative",flexGrow:0,outline:"1px solid var(--lighter-grey)",height:"var(--image-tile-size)",overflow:"hidden",cursor:"pointer"},characterTile__name:{position:"absolute",top:0,left:0,right:0,zIndex:1,fontSize:10,fontWeight:500,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",backgroundColor:"rgb(20, 20, 20, 0.65)",padding:"3px 4px"},characterTile__image:{width:"var(--image-tile-size)",height:"auto"},"@media only screen and (min-width: 768px)":{characterTile__name:{fontSize:14}}})})),z=function(e){var a=e.char,t=W();return i.a.createElement("div",{className:t.characterTile,key:a.id},i.a.createElement("div",{className:t.characterTile__name,title:a.name},a.name),i.a.createElement("img",{alt:a.name,src:a.imageUrl,className:t.characterTile__image}))},G=Object(m.a)((function(e){return Object(d.a)({root:{display:"flex",flexWrap:"wrap",outline:"1px solid red",minHeight:"var(--image-tile-size)"},tierLabel:{width:40,fontSize:20,fontWeight:600,flexGrow:0,color:"black"},list:{flexGrow:1,display:"flex",flexWrap:"wrap",maxWidth:"calc(100% - 80px)"},"@media only screen and (min-width: 768px)":{tierLabel:{width:80,fontSize:24}}})})),R=function(e){var a=e.name,t=e.group,n=e.listItems,l=e.labelColour,c=e.index,s=e.onTierChange,u=G(),m=Object(r.useState)(n||[]),d=Object(o.a)(m,2),g=d[0],p=d[1];return Object(r.useEffect)((function(){s(g,c)}),[g,c]),i.a.createElement("div",{className:u.root},i.a.createElement("div",{className:u.tierLabel,style:{backgroundColor:l}},i.a.createElement("p",{style:{verticalAlign:"middle"}},a)),i.a.createElement(B.a,{list:g,setList:p,className:u.list,group:t},g.map((function(e){return i.a.createElement(z,{char:e,key:e.id})}))))},L=["red","red-orange","orange","yellow","yellow-green","green","cyan","blue","dark-blu","pink","purple","black","dark-grey","grey","white"],V=["S","A","B","C","D","E","F"],U=t(92),D=t.n(U),P=t(196),J=t(93),H=t(96),q=t.n(H),Z=t(95),F=t.n(Z),K=t(94),Y=t.n(K),$=i.a.createContext({showSidebar:!1}),Q=Object(m.a)((function(e){return Object(d.a)({root:{padding:10,backgroundColor:"var(--dark-grey)"},unrankedList:{display:"flex",flexWrap:"wrap",marginTop:20},button:{marginRight:e.spacing(1)},buttonGroup:{display:"flex",marginBottom:e.spacing(2)},btnIcon:{marginRight:e.spacing(1)}})})),X=window.localStorage,ee=function(e){var a=e.mediaId,t=e.characterData,n=Q(),l=Object(r.useRef)(null),c=Object(r.useRef)(function(e,a){var t=X.getItem("".concat(e));return t?JSON.parse(t):{sorted:[],unsorted:a}}(a,t)),s=Object(r.useState)(c.current.unsorted),u=Object(o.a)(s,2),m=u[0],d=u[1],g=Object(r.useContext)($),p=function(e,a){c.current.sorted[a]=e};return i.a.createElement("div",null,i.a.createElement("div",{className:n.buttonGroup},i.a.createElement(P.a,{onClick:function(){l.current&&D.a.toBlob(l.current).then((function(e){Object(J.saveAs)(e,"tierlist-".concat(a,".png"))})).catch((function(e){console.error("Could not generate image",e)}))},className:n.button,variant:"outlined"},i.a.createElement(F.a,{className:n.btnIcon}),"Download ",i.a.createElement(Y.a,{minWidth:768},"image")),i.a.createElement(P.a,{onClick:function(){try{var e;c.current.unsorted=m,X.setItem("".concat(a),JSON.stringify(c.current)),null===(e=g.setMessage)||void 0===e||e.call(g,{text:"Saved successfully!",severity:"success"})}catch(n){var t;null===(t=g.setMessage)||void 0===t||t.call(g,{text:n.toString(),severity:"error"})}},className:n.button,variant:"outlined"},i.a.createElement(q.a,{className:n.btnIcon}),"Save")),i.a.createElement("div",{ref:l,className:n.root},V.map((function(e,a){return i.a.createElement(R,{index:a,key:a,onTierChange:p,name:e,listItems:c.current.sorted[a],group:"tierlist",labelColour:"var(--tier-".concat(L[a],")")})})),i.a.createElement(B.a,{group:"tierlist",list:m,setList:d,className:n.unrankedList},m.map((function(e){return i.a.createElement(z,{char:e,key:e.id})})))))},ae=Object(m.a)((function(e){return Object(d.a)({root:{display:"grid",gridGap:"20px",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))"},loadingCircle:{margin:"100px auto"},searchBar:{marginBottom:10},"@media only screen and (min-width: 768px)":{searchBar:{marginBottom:40}}})})),te=(_={},Object(u.a)(_,n.TVshow,"tv-"),Object(u.a)(_,n.Anime,"anime-"),Object(u.a)(_,n.Manga,"manga"),_),ne=function(){var e=Object(r.useState)([]),a=Object(o.a)(e,2),t=a[0],l=a[1],c=Object(r.useState)(!1),u=Object(o.a)(c,2),m=u[0],d=u[1],g=Object(r.useState)(),p=Object(o.a)(g,2),h=p[0],f=p[1],v=Object(r.useState)([]),b=Object(o.a)(v,2),E=b[0],x=b[1],y=Object(r.useState)(n.TVshow),w=Object(o.a)(y,2),O=w[0],j=w[1],k=Object(r.useContext)($),N=ae();return i.a.createElement("div",{className:"pageRoot"},i.a.createElement(S,{onSearch:function(e){e.preventDefault(),x([]);var a,t,r,i=e.target.elements.search.value;i.length>=3&&(d(!0),O===n.TVshow?(r=i,T.a.get("".concat(I,"/search/series?name=").concat(encodeURIComponent(r)))).then((function(e){console.log(e),l(e.data.data.map((function(e){return{id:e.id,label:e.seriesName,imageUrl:"".concat("https://thetvdb.com").concat(e.image)}}))),d(!1)}),(function(e){var a;null===(a=k.setMessage)||void 0===a||a.call(k,{text:"Could not search, TVDB's API is down",severity:"error"}),d(!1)})):O===n.Anime?(a=i,t=10,T.a.get("".concat(M,"/search/anime"),{params:{q:a,limit:t}})).then((function(e){l(e.data.results.map((function(e){return{id:e.mal_id,label:e.title,imageUrl:e.image_url}}))),d(!1)}),(function(e){var a;null===(a=k.setMessage)||void 0===a||a.call(k,{text:"Could not search, either MAL or Jikan's API is down",severity:"error"}),d(!1)})):O===n.Manga&&function(e,a){return T.a.get("".concat(M,"/search/manga"),{params:{q:e,limit:a}})}(i,10).then((function(e){l(e.data.results.map((function(e){return{id:e.mal_id,label:e.title,imageUrl:e.image_url}}))),d(!1)}),(function(e){var a;null===(a=k.setMessage)||void 0===a||a.call(k,{text:"Could not search, either MAL or Jikan's API is down",severity:"error"}),d(!1)})))},className:N.searchBar,defaultValue:O,onChangeSearchType:function(e){j(e.target.value),console.log(e.target.value)}}),!(E.length>0)&&i.a.createElement(C,{data:t,loading:m,onSelect:function(e){var a;d(!0),O===n.TVshow?(function(e){return T.a.get("".concat(I,"/series/").concat(e,"/actors"))}(e).then((function(a){f(e),x(a.data.data.map((function(e){return{id:e.id,name:e.role,actor:e.name,imageUrl:"".concat("https://artworks.thetvdb.com/banners/").concat(e.image)}})))})),d(!1)):O===n.Anime?(a=e,T.a.get("".concat(M,"/anime/").concat(a,"/characters_staff"))).then((function(a){var t;a&&0!==a.data.characters.length?(f(e),x(a.data.characters.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{id:e.mal_id,imageUrl:e.image_url})})))):null===(t=k.setMessage)||void 0===t||t.call(k,{text:"Uh oh, looks like that Anime entry has no characters.",severity:"error"});d(!1)})).catch((function(e){var a;null===(a=k.setMessage)||void 0===a||a.call(k,e.response.data.message),d(!1)})):O===n.Manga&&function(e){return T.a.get("".concat(M,"/manga/").concat(e,"/characters"))}(e).then((function(a){var t;(console.log(a),a&&0!==a.data.characters.length)?(f(e),x(a.data.characters.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{id:e.mal_id,imageUrl:e.image_url})})))):null===(t=k.setMessage)||void 0===t||t.call(k,{text:"Uh oh, looks like that Manga entry has no characters.",severity:"error"});d(!1)})).catch((function(e){var a;null===(a=k.setMessage)||void 0===a||a.call(k,{text:e.response.data.message,severity:"error"}),d(!1)}))}}),m&&i.a.createElement(A.a,{size:150,className:N.loadingCircle}),E.length>0&&h&&i.a.createElement(ee,{mediaId:"".concat(te[O]).concat(h),characterData:E}))},re=(t(140),t(198)),ie=t(199),le=t(62),ce=t(97),oe=t.n(ce),se=Object(m.a)((function(e){return Object(d.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},"@media only screen and (min-width: 768px)":{title:{flexGrow:1}}})})),ue=function(){var e=se();return i.a.createElement($.Consumer,null,(function(a){var t=a.setShowSidebar;return i.a.createElement("div",{className:"header"},i.a.createElement(re.a,{position:"static"},i.a.createElement(ie.a,null,i.a.createElement(p.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",onClick:function(){return null===t||void 0===t?void 0:t(!0)}},i.a.createElement(oe.a,null)),i.a.createElement(le.a,{variant:"h4",className:e.title},"Tierlist Maker"))))}))},me=t(103),de=t(204),ge=t(3),pe=t(192),he=t(153),fe=t(200),ve=t(201),be=t(208),Ee=t(100),xe=t.n(Ee),ye=t(101),we=t.n(ye),Oe=t(98),je=t.n(Oe),Se=t(99),ke=t.n(Se),Ce=t(10),Ne=Object(m.a)({list:{width:250},fullList:{width:"auto"}}),Te=function(e){var a=e.open,t=e.setShowSidebar,n=Ne(),l=Object(Ce.f)(),c=Object(Ce.g)();Object(r.useEffect)((function(){null===t||void 0===t||t(!1)}),[c]);return i.a.createElement(be.a,{anchor:"left",open:a,onClose:function(){return null===t||void 0===t?void 0:t(!1)}},i.a.createElement("div",{className:Object(ge.a)(n.list),role:"presentation"},i.a.createElement(pe.a,null,i.a.createElement(he.a,{button:!0,onClick:function(){return l.push("/Tierlist")}},i.a.createElement(fe.a,null,i.a.createElement(je.a,null)),i.a.createElement(ve.a,{primary:"Home"})),i.a.createElement(he.a,{button:!0,onClick:function(){return l.push("/Tierlist/create")}},i.a.createElement(fe.a,null,i.a.createElement(ke.a,null)),i.a.createElement(ve.a,{primary:"Tierlist creator"}))),i.a.createElement(b.a,null),i.a.createElement(pe.a,null,["All mail","Trash","Spam"].map((function(e,a){return i.a.createElement(he.a,{button:!0,key:e},i.a.createElement(fe.a,null,a%2===0?i.a.createElement(xe.a,null):i.a.createElement(we.a,null)),i.a.createElement(ve.a,{primary:e}))})))))},_e=function(){return i.a.createElement($.Consumer,null,(function(e){var a=e.showSidebar,t=e.setShowSidebar;return i.a.createElement(Te,{open:a||!1,setShowSidebar:t})}))},Me=t(69),Ie=t(202),Ae=t(203),Be=Object(m.a)({root:{minWidth:275},title:{marginBottom:10,fontWeight:500},stepContainer:{display:"flex",flexDirection:"column",margin:"20px auto",justifyContent:"center"},card:{margin:"10px"},"@media only screen and (min-width: 768px)":{card:{minWidth:200,marginRight:12},stepContainer:{flexDirection:"row"}}}),We=function(){var e=Be(),a=[{title:"Step 1",body:i.a.createElement(le.a,null,"Pick a media type to search")},{title:"Step 2",body:i.a.createElement(le.a,null,"Search for your entry")},{title:"Step 3",body:i.a.createElement(le.a,null,"Create your own tierlist")},{title:"Step 4",body:i.a.createElement(le.a,null,"Download it and share it")}];return i.a.createElement("div",null,i.a.createElement("h1",null,"Make your own Tierlists!"),i.a.createElement("h2",null,"This page is a Work In Progress."),i.a.createElement("div",{className:e.stepContainer},a.map((function(a){return t=a.title,n=a.body,i.a.createElement(Ie.a,{className:e.card,key:t},i.a.createElement(Ae.a,null,i.a.createElement(le.a,{variant:"h4",className:e.title},t),n));var t,n}))))},ze=t(209),Ge=t(206),Re=Object(me.a)({palette:{type:"dark"}}),Le=function(){var e=Object(r.useState)(!1),a=Object(o.a)(e,2),t=a[0],n=a[1],l=Object(r.useState)(!1),c=Object(o.a)(l,2),s=c[0],u=c[1],m=Object(r.useState)(),d=Object(o.a)(m,2),g=d[0],p=d[1];return Object(r.useEffect)((function(){(null===g||void 0===g?void 0:g.text)?u(!0):u(!1)}),[g]),i.a.createElement("div",{id:"app"},i.a.createElement(de.a,{theme:Re},i.a.createElement($.Provider,{value:{showSidebar:t,setShowSidebar:n,setMessage:p}},i.a.createElement(ue,null),i.a.createElement("div",{id:"appContent"},i.a.createElement(Me.a,null,i.a.createElement(Ce.c,null,i.a.createElement(Ce.a,{path:"/Tierlist/create"},i.a.createElement(ne,null)),i.a.createElement(Ce.a,{path:"/Tierlist/"},i.a.createElement(We,null))),i.a.createElement(_e,null))),i.a.createElement(ze.a,{open:s,autoHideDuration:6e3,onClose:function(e,a){"clickaway"!==a&&u(!1)}},i.a.createElement(Ge.a,{elevation:6,variant:"filled",onClose:function(){p(null)},severity:null===g||void 0===g?void 0:g.severity},null===g||void 0===g?void 0:g.text)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ve=i.a.createContext(null),Ue=t(102),De=t(61),Pe=t.n(De),Je=(t(145),t(148),{apiKey:"AIzaSyCdT1IJ7ERqZVvv5rRp78AZGEZcMOCkM8k",authDomain:"test-firebase-3704b.firebaseapp.com",databaseURL:"https://test-firebase-3704b.firebaseio.com",projectId:"test-firebase-3704b",storageBucket:"test-firebase-3704b.appspot.com",messagingSenderId:"6800354624",appId:"1:6800354624:web:8c6f49ae88599b5623dea5",measurementId:"G-V90BLBWHYM"}),He=function e(){Object(Ue.a)(this,e),this.db=void 0,this.functions=void 0,Pe.a.initializeApp(Je),this.db=Pe.a.firestore(),this.functions=Pe.a.functions(),this.functions.useFunctionsEmulator("http://localhost:5001")};c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(Ve.Provider,{value:new He},i.a.createElement(Le,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[111,1,2]]]);
//# sourceMappingURL=main.7af992fa.chunk.js.map