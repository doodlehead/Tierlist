(this.webpackJsonptierlist=this.webpackJsonptierlist||[]).push([[0],{113:function(e,a,t){},114:function(e,a,t){"use strict";t.r(a);var n,r=t(0),i=t.n(r),c=t(7),l=t.n(c),o=(t(88),t(89),t(14)),s=(t(90),t(38)),u=t(143),m=t(160),d=t(115),g=t(149),p=t(70),h=t.n(p),f=t(161),v=t(148),b=t(156),E=t(147),O=t(162),x=Object(u.a)((function(e){return Object(m.a)({root:{display:"flex",alignItems:"center",margin:"0 40px",backgroundColor:"var(--darker-grey)"},input:{marginLeft:e.spacing(1),flex:1,fontSize:20},iconButton:{padding:10},divider:{height:28,margin:4},select:{padding:"0 12px"}})}));!function(e){e.Anime="Anime",e.Manga="Manga"}(n||(n={}));var j,k,y=function(e){var a=e.onSearch,t=e.onChangeSearchType,c=e.className,l=e.defaultValue,u=x(),m=Object(r.useState)(l),p=Object(o.a)(m,2),j=p[0],k=p[1];return i.a.createElement("div",{className:c},i.a.createElement(d.a,{component:"form",className:u.root,onSubmit:a},i.a.createElement(E.a,{variant:"outlined"},i.a.createElement(b.a,{value:j,onChange:function(e){k(e.target.value),t(Object(s.a)(Object(s.a)({},e),{},{target:{value:e.target.value}}))},className:u.select},i.a.createElement(O.a,{value:n.Anime},"Anime"),i.a.createElement(O.a,{value:n.Manga},"Manga"))),i.a.createElement(v.a,{className:u.divider,orientation:"vertical"}),i.a.createElement(f.a,{className:u.input,placeholder:"Search",name:"search",autoComplete:"off"}),i.a.createElement(g.a,{type:"submit",className:u.iconButton,"aria-label":"search"},i.a.createElement(h.a,null))))},w=t(39),N=t.n(w);!function(e){e.Main="Main",e.Supporting="Supporting"}(j||(j={})),function(e){e.g="G",e.pg="PG",e.pg13="PG-13",e.r17="R",e.r="R+",e.rx="Rx"}(k||(k={}));var S=Object(u.a)((function(e){return Object(m.a)({root:{display:"grid",gridGap:"20px",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))"},animePanel:{borderRadius:3,backgroundColor:"var(--darker-grey)","&:hover":{outline:"2px solid var(--lighter-grey)",cursor:"pointer"}},animePanel__title:{fontSize:18,fontWeight:500,display:"block",padding:"8px"},animePanel__image:{maxWidth:200,height:"auto"},loadingCircle:{margin:"100px auto"}})})),_=function(e){var a=e.data,t=e.loading,n=e.onSelect,r=e.className,c=S(),l=a.filter((function(e){return Object.values(k).indexOf(e.rated)<=Object.values(k).indexOf(k.r)}));return t?i.a.createElement("div",null):i.a.createElement("div",{className:r},i.a.createElement("div",{className:c.root},!t&&l.map((function(e){return a=e,i.a.createElement("div",{className:c.animePanel,key:a.mal_id,onClick:function(){n(a.mal_id)}},i.a.createElement("div",{className:c.animePanel__title},a.title),i.a.createElement("img",{alt:a.title,src:a.image_url,className:c.animePanel__image}));var a}))))},C=t(151),T=t(49),G=Object(u.a)((function(e){return Object(m.a)({characterTile:{position:"relative",flexGrow:0,outline:"1px solid var(--lighter-grey)",height:100,overflow:"hidden",cursor:"pointer"},characterTile__name:{position:"absolute",top:0,left:0,right:0,zIndex:1,fontSize:14,fontWeight:500,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",backgroundColor:"rgb(20, 20, 20, 0.65)",padding:"3px 4px"},characterTile__image:{width:100,height:"auto"}})})),I=function(e){var a=e.char,t=G();return i.a.createElement("div",{className:t.characterTile,key:a.mal_id},i.a.createElement("div",{className:t.characterTile__name,title:a.name},a.name),i.a.createElement("img",{alt:a.name,src:a.image_url,className:t.characterTile__image}))},W=Object(u.a)((function(e){return Object(m.a)({root:{display:"flex",flexWrap:"wrap",outline:"1px solid red",minHeight:100},tierLabel:{width:"80px",fontSize:30,fontWeight:600,flexGrow:0,color:"black"},list:{flexGrow:1,display:"flex",flexWrap:"wrap",maxWidth:"calc(100% - 80px)"}})})),A=function(e){var a=e.name,t=e.group,n=e.listItems,c=e.labelColour,l=e.index,s=e.onTierChange,u=W(),m=Object(r.useState)(n||[]),d=Object(o.a)(m,2),g=d[0],p=d[1];return Object(r.useEffect)((function(){s(g,l)}),[g,l]),i.a.createElement("div",{className:u.root},i.a.createElement("div",{className:u.tierLabel,style:{backgroundColor:c}},i.a.createElement("p",{style:{verticalAlign:"middle"}},a)),i.a.createElement(T.a,{list:g,setList:p,className:u.list,group:t},g.map((function(e){return i.a.createElement(I,{char:e,key:e.mal_id})}))))},B=["red","red-orange","orange","yellow","yellow-green","green","cyan","blue","dark-blu","pink","purple","black","dark-grey","grey","white"],M=["S","A","B","C","D","E","F"],R=t(72),z=t.n(R),P=t(150),L=t(73),D=t(75),J=t.n(D),q=t(74),H=t.n(q),U=Object(u.a)((function(e){return Object(m.a)({root:{padding:10,backgroundColor:"var(--dark-grey)"},unrankedList:{display:"flex",flexWrap:"wrap",marginTop:20},characterTile:{position:"relative",flexGrow:0,border:"1px solid var(--lighter-grey)",height:100,overflow:"hidden"},characterTile__name:{position:"absolute",top:0,left:0,right:0,zIndex:1,fontSize:14,fontWeight:500,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",backgroundColor:"rgb(20, 20, 20, 0.65)",padding:"3px 4px"},characterTile__image:{maxWidth:100,height:"auto"},button:{marginRight:e.spacing(1)},buttonGroup:{display:"flex",marginBottom:e.spacing(2)},btnIcon:{marginRight:e.spacing(1)}})})),V=window.localStorage,F=function(e){var a=e.malId,t=e.characterData,n=U(),c=Object(r.useRef)(null),l=Object(r.useRef)(function(e,a){var t=V.getItem("".concat(e));return t?JSON.parse(t):{sorted:[],unsorted:a}}(a,t.map((function(e){return Object(s.a)({id:e.mal_id},e)})))),u=Object(r.useState)(l.current.unsorted),m=Object(o.a)(u,2),d=m[0],g=m[1],p=function(e,a){l.current.sorted[a]=e};return i.a.createElement("div",null,i.a.createElement("div",{className:n.buttonGroup},i.a.createElement(P.a,{onClick:function(){c.current&&z.a.toBlob(c.current).then((function(e){Object(L.saveAs)(e,"tierlist-".concat(a,".png"))})).catch((function(e){console.error("Could not generate image",e)}))},className:n.button,variant:"outlined"},i.a.createElement(H.a,{className:n.btnIcon}),"Download image"),i.a.createElement(P.a,{onClick:function(){l.current.unsorted=d,V.setItem("".concat(a),JSON.stringify(l.current))},className:n.button,variant:"outlined"},i.a.createElement(J.a,{className:n.btnIcon}),"Save")),i.a.createElement("div",{ref:c,className:n.root},M.map((function(e,a){return i.a.createElement(A,{index:a,key:a,onTierChange:p,name:e,listItems:l.current.sorted[a],group:"tierlist",labelColour:"var(--tier-".concat(B[a],")")})})),i.a.createElement(T.a,{group:"tierlist",list:d,setList:g,className:n.unrankedList},d.map((function(e){return i.a.createElement(I,{char:e,key:e.mal_id})})))))},$=t(159),K=t(157),Q=Object(u.a)((function(e){return Object(m.a)({root:{display:"grid",gridGap:"20px",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))"},loadingCircle:{margin:"100px auto"},searchBar:{marginBottom:40}})})),X=function(){var e=Object(r.useState)([]),a=Object(o.a)(e,2),t=a[0],c=a[1],l=Object(r.useState)(!1),s=Object(o.a)(l,2),u=s[0],m=s[1],d=Object(r.useState)(),g=Object(o.a)(d,2),p=g[0],h=g[1],f=Object(r.useState)([]),v=Object(o.a)(f,2),b=v[0],E=v[1],O=Object(r.useState)(!1),x=Object(o.a)(O,2),j=x[0],k=x[1],w=Object(r.useState)(""),S=Object(o.a)(w,2),T=S[0],G=S[1],I=Object(r.useState)(n.Anime),W=Object(o.a)(I,2),A=W[0],B=W[1],M=Q();Object(r.useEffect)((function(){T&&k(!0)}),[T]);var R=function(){k(!1),G("")};return i.a.createElement("div",{className:"pageRoot"},i.a.createElement(y,{onSearch:function(e){e.preventDefault(),E([]);var a,t,r=e.target.elements.search.value;r.length>=3&&(m(!0),A===n.Anime?(a=r,t=10,N.a.get("https://api.jikan.moe/v3/search/anime",{params:{q:a,limit:t}})).then((function(e){c(e.data.results),m(!1)})):A===n.Manga&&function(e,a){return N.a.get("https://api.jikan.moe/v3/search/manga",{params:{q:e,limit:a}})}(r,10).then((function(e){c(e.data.results),m(!1)})))},className:M.searchBar,defaultValue:A,onChangeSearchType:function(e){B(e.target.value),console.log(e.target.value)}}),!(b.length>0)&&i.a.createElement(_,{data:t,loading:u,onSelect:function(e){m(!0),A===n.Anime?function(e){return N.a.get("https://api.jikan.moe/v3/anime/".concat(e,"/characters_staff"))}(e).then((function(a){a&&0!==a.data.characters.length?(h(e),E(a.data.characters)):G("Uh oh, looks like that Anime entry has no characters."),m(!1)})):A===n.Manga&&function(e){return N.a.get("https://api.jikan.moe/v3/manga/".concat(e,"/characters"))}(e).then((function(a){a&&0!==a.data.characters.length?(h(e),E(a.data.characters)):G("Uh oh, looks like that Manga entry has no characters."),m(!1)}))}}),u&&i.a.createElement(C.a,{size:150,className:M.loadingCircle}),b.length>0&&p&&i.a.createElement(F,{malId:p,characterData:b}),i.a.createElement($.a,{open:j,autoHideDuration:6e3,onClose:R},i.a.createElement(K.a,{elevation:6,variant:"filled",onClose:R,severity:"error"},T)))},Y=(t(113),t(152)),Z=t(153),ee=t(154),ae=Object(u.a)((function(e){return Object(m.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}})})),te=function(){var e=ae();return i.a.createElement("div",{className:"header"},i.a.createElement(Y.a,{position:"static"},i.a.createElement(Z.a,null,i.a.createElement(ee.a,{variant:"h4",className:e.title},"Tierlist Maker"))))},ne=t(76),re=t(155),ie=Object(ne.a)({palette:{type:"dark"}});var ce=function(){return r.createElement("div",{id:"app"},r.createElement(re.a,{theme:ie},r.createElement(te,null),r.createElement("div",{id:"appContent"},r.createElement(X,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},83:function(e,a,t){e.exports=t(114)},88:function(e,a,t){},89:function(e,a,t){},90:function(e,a,t){}},[[83,1,2]]]);
//# sourceMappingURL=main.b0ec9891.chunk.js.map