(this.webpackJsonptierlist=this.webpackJsonptierlist||[]).push([[0],{109:function(e,t,a){e.exports=a(150)},114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},138:function(e,t,a){},150:function(e,t,a){"use strict";a.r(t);var n,r=a(0),i=a.n(r),l=a(8),o=a.n(l),c=(a(114),a(15)),s=(a(115),a(50)),u=a(42),m=(a(116),a(184)),d=a(208),g=a(103),p=a(193),h=a(90),f=a.n(h),v=a(209),b=a(192),E=a(203),x=a(188),y=a(191),w=a(62);!function(e){e.TVshow="TVshow",e.Anime="Anime",e.Manga="Manga"}(n||(n={}));var j,O,S=Object(m.a)((function(e){return Object(d.a)({root:{display:"flex",alignItems:"center",margin:"0 8px",backgroundColor:"var(--darker-grey)"},input:{marginLeft:e.spacing(1),flex:1,fontSize:16},iconButton:{padding:"0 10px"},divider:{height:28,margin:4},select:{padding:"0 8px",fontSize:14},"@media only screen and (min-width: 768px)":{root:{display:"flex",alignItems:"center",margin:"0 40px",backgroundColor:"var(--darker-grey)"},input:{marginLeft:e.spacing(1),flex:1,fontSize:20},iconButton:{padding:10},divider:{height:28,margin:4},select:{padding:"0 12px"}},suggestionsRoot:{}})})),k=function(e){var t=e.onSearch,a=e.onChangeSearchType,l=e.className,o=e.defaultValue,s=S(),u=Object(r.useState)(o),m=Object(c.a)(u,2),d=m[0],h=m[1];return i.a.createElement("div",{className:l},i.a.createElement(g.a,{component:"form",className:s.root,onSubmit:t},i.a.createElement(x.a,{variant:"outlined"},i.a.createElement(E.a,{value:d,onChange:function(e){var t=e;h(e.target.value),a(t)},className:s.select},i.a.createElement(y.a,{value:n.TVshow},"TV show"),i.a.createElement(y.a,{value:n.Anime},"Anime"),i.a.createElement(y.a,{value:n.Manga},"Manga"))),i.a.createElement(b.a,{className:s.divider,orientation:"vertical"}),i.a.createElement(v.a,{className:s.input,placeholder:"Search",name:"search",autoComplete:"off"}),i.a.createElement(p.a,{type:"submit",className:s.iconButton,"aria-label":"search"},i.a.createElement(f.a,null))),i.a.createElement("div",{className:s.suggestionsRoot},i.a.createElement(w.a,null,"Suggested searches:")))},C=Object(m.a)((function(e){return Object(d.a)({root:{display:"grid",gridGap:"5px",gridTemplateColumns:"repeat(auto-fill, minmax(".concat(100,"px, 1fr))")},panel:{borderRadius:3,backgroundColor:"var(--darker-grey)","&:hover":{outline:"2px solid var(--lighter-grey)",cursor:"pointer"}},panel__title:{fontSize:14,fontWeight:500,display:"block",padding:"8px"},panel__image:{maxWidth:100,height:"auto"},loadingCircle:{margin:"100px auto"},"@media only screen and (min-width: 768px)":{root:{display:"grid",gridGap:"20px",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))"},panel:{borderRadius:3,backgroundColor:"var(--darker-grey)","&:hover":{outline:"2px solid var(--lighter-grey)",cursor:"pointer"}},panel__title:{fontSize:18,fontWeight:500,display:"block",padding:"8px"},panel__image:{maxWidth:200,height:"auto"},loadingCircle:{margin:"100px auto"}}})})),N=function(e){var t=e.data,a=e.loading,n=e.onSelect,r=e.className,l=C();return a?i.a.createElement("div",null):i.a.createElement("div",{className:r},i.a.createElement("div",{className:l.root},!a&&t.map((function(e){return t=e,i.a.createElement("div",{className:l.panel,key:t.id,onClick:function(){return n(t.id)}},i.a.createElement("div",{className:l.panel__title},t.label),i.a.createElement("img",{alt:t.label,src:t.imageUrl,className:l.panel__image}));var t}))))},T=a(31),_=a.n(T);!function(e){e.Main="Main",e.Supporting="Supporting"}(j||(j={})),function(e){e.g="G",e.pg="PG",e.pg13="PG-13",e.r17="R",e.r="R+",e.rx="Rx"}(O||(O={}));var I,M="https://api.jikan.moe/v3",B="http://localhost:5001/".concat("test-firebase-3704b","/us-central1/proxy"),A=a(195),R=a(60),W=Object(m.a)((function(e){return Object(d.a)({characterTile:{position:"relative",flexGrow:0,outline:"1px solid var(--lighter-grey)",height:"var(--image-tile-size)",overflow:"hidden",cursor:"pointer"},characterTile__name:{position:"absolute",top:0,left:0,right:0,zIndex:1,fontSize:10,fontWeight:500,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",backgroundColor:"rgb(20, 20, 20, 0.65)",padding:"3px 4px"},characterTile__image:{width:"var(--image-tile-size)",height:"auto"},"@media only screen and (min-width: 768px)":{characterTile__name:{fontSize:14}}})})),z=function(e){var t=e.char,a=W();return i.a.createElement("div",{className:a.characterTile,key:t.id},i.a.createElement("div",{className:a.characterTile__name,title:t.name},t.name),i.a.createElement("img",{alt:t.name,src:t.imageUrl,className:a.characterTile__image}))},G=Object(m.a)((function(e){return Object(d.a)({root:{display:"flex",flexWrap:"wrap",outline:"1px solid red",minHeight:"var(--image-tile-size)"},tierLabel:{width:40,fontSize:20,fontWeight:600,flexGrow:0,color:"black"},list:{flexGrow:1,display:"flex",flexWrap:"wrap",maxWidth:"calc(100% - 80px)"},"@media only screen and (min-width: 768px)":{tierLabel:{width:80,fontSize:24}}})})),L=function(e){var t=e.name,a=e.group,n=e.listItems,l=e.labelColour,o=e.index,s=e.onTierChange,u=G(),m=Object(r.useState)(n||[]),d=Object(c.a)(m,2),g=d[0],p=d[1];return Object(r.useEffect)((function(){s(g,o)}),[g,o]),i.a.createElement("div",{className:u.root},i.a.createElement("div",{className:u.tierLabel,style:{backgroundColor:l}},i.a.createElement("p",{style:{verticalAlign:"middle"}},t)),i.a.createElement(R.a,{list:g,setList:p,className:u.list,group:a},g.map((function(e){return i.a.createElement(z,{char:e,key:e.id})}))))},V=["red","red-orange","orange","yellow","yellow-green","green","cyan","blue","dark-blu","pink","purple","black","dark-grey","grey","white"],U=["S","A","B","C","D","E","F"],D=a(92),P=a.n(D),J=a(194),H=a(93),q=a(96),Z=a.n(q),F=a(95),K=a.n(F),Y=a(94),$=a.n(Y),Q=i.a.createContext({showSidebar:!1}),X=Object(m.a)((function(e){return Object(d.a)({root:{padding:10,backgroundColor:"var(--dark-grey)"},unrankedList:{display:"flex",flexWrap:"wrap",marginTop:20},button:{marginRight:e.spacing(1)},buttonGroup:{display:"flex",marginBottom:e.spacing(2)},btnIcon:{marginRight:e.spacing(1)}})})),ee=window.localStorage,te=function(e){var t=e.mediaId,a=e.characterData,n=X(),l=Object(r.useRef)(null),o=Object(r.useRef)(function(e,t){var a=ee.getItem("".concat(e));return a?JSON.parse(a):{sorted:[],unsorted:t}}(t,a)),s=Object(r.useState)(o.current.unsorted),u=Object(c.a)(s,2),m=u[0],d=u[1],g=Object(r.useContext)(Q),p=function(e,t){o.current.sorted[t]=e};return i.a.createElement("div",null,i.a.createElement("div",{className:n.buttonGroup},i.a.createElement(J.a,{onClick:function(){l.current&&P.a.toBlob(l.current).then((function(e){Object(H.saveAs)(e,"tierlist-".concat(t,".png"))})).catch((function(e){console.error("Could not generate image",e)}))},className:n.button,variant:"outlined"},i.a.createElement(K.a,{className:n.btnIcon}),"Download ",i.a.createElement($.a,{minWidth:768},"image")),i.a.createElement(J.a,{onClick:function(){try{var e;o.current.unsorted=m,ee.setItem("".concat(t),JSON.stringify(o.current)),null===(e=g.setMessage)||void 0===e||e.call(g,{text:"Saved successfully!",severity:"success"})}catch(n){var a;null===(a=g.setMessage)||void 0===a||a.call(g,{text:n.toString(),severity:"error"})}},className:n.button,variant:"outlined"},i.a.createElement(Z.a,{className:n.btnIcon}),"Save")),i.a.createElement("div",{ref:l,className:n.root},U.map((function(e,t){return i.a.createElement(L,{index:t,key:t,onTierChange:p,name:e,listItems:o.current.sorted[t],group:"tierlist",labelColour:"var(--tier-".concat(V[t],")")})})),i.a.createElement(R.a,{group:"tierlist",list:m,setList:d,className:n.unrankedList},m.map((function(e){return i.a.createElement(z,{char:e,key:e.id})})))))},ae=Object(m.a)((function(e){return Object(d.a)({root:{display:"grid",gridGap:"20px",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))"},loadingCircle:{margin:"100px auto"},searchBar:{marginBottom:10},"@media only screen and (min-width: 768px)":{searchBar:{marginBottom:40}}})})),ne=(I={},Object(u.a)(I,n.TVshow,"tv-"),Object(u.a)(I,n.Anime,"anime-"),Object(u.a)(I,n.Manga,"manga"),I),re=function(){var e=Object(r.useState)([]),t=Object(c.a)(e,2),a=t[0],l=t[1],o=Object(r.useState)(!1),u=Object(c.a)(o,2),m=u[0],d=u[1],g=Object(r.useState)(),p=Object(c.a)(g,2),h=p[0],f=p[1],v=Object(r.useState)([]),b=Object(c.a)(v,2),E=b[0],x=b[1],y=Object(r.useState)(n.TVshow),w=Object(c.a)(y,2),j=w[0],O=w[1],S=Object(r.useContext)(Q).setMessage,C=ae();return i.a.createElement("div",{className:"pageRoot"},i.a.createElement(k,{onSearch:function(e){e.preventDefault(),x([]);var t,a,r,i=e.target.elements.search.value;i.length>=3&&(d(!0),j===n.TVshow?(r=i,_.a.get("".concat(B,"/search/series?name=").concat(encodeURIComponent(r)))).then((function(e){console.log(e),l(e.data.data.map((function(e){return{id:e.id,label:e.seriesName,imageUrl:"".concat("https://thetvdb.com").concat(e.image)}}))),d(!1)}),(function(e){null===S||void 0===S||S({text:"Could not search, TVDB's API is down",severity:"error"}),d(!1)})):j===n.Anime?(t=i,a=10,_.a.get("".concat(M,"/search/anime"),{params:{q:t,limit:a}})).then((function(e){console.log(e),l(e.data.results.map((function(e){return{id:e.mal_id,label:e.title,imageUrl:e.image_url}}))),d(!1)}),(function(e){null===S||void 0===S||S({text:"Could not search, either MAL or Jikan's API is down",severity:"error"}),d(!1)})):j===n.Manga&&function(e,t){return _.a.get("".concat(M,"/search/manga"),{params:{q:e,limit:t}})}(i,10).then((function(e){l(e.data.results.map((function(e){return{id:e.mal_id,label:e.title,imageUrl:e.image_url}}))),d(!1)}),(function(e){null===S||void 0===S||S({text:"Could not search, either MAL or Jikan's API is down",severity:"error"}),d(!1)})))},className:C.searchBar,defaultValue:j,onChangeSearchType:function(e){O(e.target.value),console.log(e.target.value)}}),!(E.length>0)&&i.a.createElement(N,{data:a,loading:m,onSelect:function(e){var t;d(!0),j===n.TVshow?(function(e){return _.a.get("".concat(B,"/series/").concat(e,"/actors"))}(e).then((function(t){console.log(t),f(e),x(t.data.data.map((function(e){return{id:e.id,name:e.role,actor:e.name,imageUrl:e.image?"".concat("https://artworks.thetvdb.com/banners/").concat(e.image):"https://artworks.thetvdb.com/person/actor.jpg"}})))})),d(!1)):j===n.Anime?(t=e,_.a.get("".concat(M,"/anime/").concat(t,"/characters_staff"))).then((function(t){t&&0!==t.data.characters.length?(f(e),x(t.data.characters.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{id:e.mal_id,imageUrl:e.image_url})})))):null===S||void 0===S||S({text:"Uh oh, looks like that Anime entry has no characters.",severity:"error"}),d(!1)})).catch((function(e){null===S||void 0===S||S(e.response.data.message),d(!1)})):j===n.Manga&&function(e){return _.a.get("".concat(M,"/manga/").concat(e,"/characters"))}(e).then((function(t){console.log(t),t&&0!==t.data.characters.length?(f(e),x(t.data.characters.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{id:e.mal_id,imageUrl:e.image_url})})))):null===S||void 0===S||S({text:"Uh oh, looks like that Manga entry has no characters.",severity:"error"}),d(!1)})).catch((function(e){null===S||void 0===S||S({text:e.response.data.message,severity:"error"}),d(!1)}))}}),m&&i.a.createElement(A.a,{size:150,className:C.loadingCircle}),E.length>0&&h&&i.a.createElement(te,{mediaId:"".concat(ne[j]).concat(h),characterData:E}))},ie=(a(138),a(196)),le=a(197),oe=a(97),ce=a.n(oe),se=Object(m.a)((function(e){return Object(d.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},"@media only screen and (min-width: 768px)":{title:{flexGrow:1}}})})),ue=function(){var e=se();return i.a.createElement(Q.Consumer,null,(function(t){var a=t.setShowSidebar;return i.a.createElement("div",{className:"header"},i.a.createElement(ie.a,{position:"static"},i.a.createElement(le.a,null,i.a.createElement(p.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",onClick:function(){return null===a||void 0===a?void 0:a(!0)}},i.a.createElement(ce.a,null)),i.a.createElement(w.a,{variant:"h4",className:e.title},"Tierlist Maker"))))}))},me=a(101),de=a(202),ge=a(3),pe=a(190),he=a(151),fe=a(198),ve=a(199),be=a(206),Ee=a(98),xe=a.n(Ee),ye=a(99),we=a.n(ye),je=a(10),Oe=Object(m.a)({list:{width:250},fullList:{width:"auto"}}),Se=function(){var e=Oe(),t=Object(je.f)(),a=Object(je.g)(),n=Object(r.useContext)(Q),l=n.showSidebar,o=n.setShowSidebar;Object(r.useEffect)((function(){null===o||void 0===o||o(!1)}),[a]);return i.a.createElement(be.a,{anchor:"left",open:l,onClose:function(){return null===o||void 0===o?void 0:o(!1)}},i.a.createElement("div",{className:Object(ge.a)(e.list),role:"presentation"},i.a.createElement(pe.a,null,i.a.createElement(he.a,{button:!0,onClick:function(){return t.push("/Tierlist")}},i.a.createElement(fe.a,null,i.a.createElement(xe.a,null)),i.a.createElement(ve.a,{primary:"Home"})),i.a.createElement(he.a,{button:!0,onClick:function(){return t.push("/Tierlist/create")}},i.a.createElement(fe.a,null,i.a.createElement(we.a,null)),i.a.createElement(ve.a,{primary:"Tierlist creator"}))),i.a.createElement(b.a,null)))},ke=a(69),Ce=a(200),Ne=a(201),Te=Object(m.a)({root:{minWidth:275},title:{marginBottom:10,fontWeight:500},stepContainer:{display:"flex",flexDirection:"column",margin:"20px auto",justifyContent:"center"},card:{margin:"10px"},"@media only screen and (min-width: 768px)":{card:{minWidth:200,marginRight:12},stepContainer:{flexDirection:"row"}}}),_e=function(){var e=Te(),t=[{title:"Step 1",body:i.a.createElement(w.a,null,"Pick a media type to search")},{title:"Step 2",body:i.a.createElement(w.a,null,"Search for your entry")},{title:"Step 3",body:i.a.createElement(w.a,null,"Create your own tierlist")},{title:"Step 4",body:i.a.createElement(w.a,null,"Download it and share it")}];return i.a.createElement("div",null,i.a.createElement("h1",null,"Make your own Tierlists!"),i.a.createElement("h2",null,"This page is a Work In Progress."),i.a.createElement("div",{className:e.stepContainer},t.map((function(t){return a=t.title,n=t.body,i.a.createElement(Ce.a,{className:e.card,key:a},i.a.createElement(Ne.a,null,i.a.createElement(w.a,{variant:"h4",className:e.title},a),n));var a,n}))))},Ie=a(207),Me=a(204),Be=Object(me.a)({palette:{type:"dark"}}),Ae=function(){var e=Object(r.useState)(!1),t=Object(c.a)(e,2),a=t[0],n=t[1],l=Object(r.useState)(!1),o=Object(c.a)(l,2),s=o[0],u=o[1],m=Object(r.useState)({text:"",severity:"success"}),d=Object(c.a)(m,2),g=d[0],p=d[1];return Object(r.useEffect)((function(){(null===g||void 0===g?void 0:g.text)?u(!0):u(!1)}),[g]),i.a.createElement("div",{id:"app"},i.a.createElement(de.a,{theme:Be},i.a.createElement(Q.Provider,{value:{showSidebar:a,setShowSidebar:n,setMessage:p}},i.a.createElement(ue,null),i.a.createElement("div",{id:"appContent"},i.a.createElement(ke.a,null,i.a.createElement(je.c,null,i.a.createElement(je.a,{path:"/Tierlist/create"},i.a.createElement(re,null)),i.a.createElement(je.a,{path:"/Tierlist/"},i.a.createElement(_e,null))),i.a.createElement(Se,null))),i.a.createElement(Ie.a,{open:s,autoHideDuration:6e3,onClose:function(e,t){"clickaway"!==t&&u(!1)}},i.a.createElement(Me.a,{elevation:6,variant:"filled",onClose:function(){p({text:"",severity:g.severity})},severity:null===g||void 0===g?void 0:g.severity},null===g||void 0===g?void 0:g.text)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Re=i.a.createContext(null),We=a(100),ze=a(61),Ge=a.n(ze),Le=(a(143),a(146),{apiKey:"AIzaSyCdT1IJ7ERqZVvv5rRp78AZGEZcMOCkM8k",authDomain:"test-firebase-3704b.firebaseapp.com",databaseURL:"https://test-firebase-3704b.firebaseio.com",projectId:"test-firebase-3704b",storageBucket:"test-firebase-3704b.appspot.com",messagingSenderId:"6800354624",appId:"1:6800354624:web:8c6f49ae88599b5623dea5",measurementId:"G-V90BLBWHYM"}),Ve=function e(){Object(We.a)(this,e),this.db=void 0,this.functions=void 0,Ge.a.initializeApp(Le),this.db=Ge.a.firestore(),this.functions=Ge.a.functions(),this.functions.useFunctionsEmulator("http://localhost:5001")};o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(Re.Provider,{value:new Ve},i.a.createElement(Ae,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[109,1,2]]]);
//# sourceMappingURL=main.356dc844.chunk.js.map